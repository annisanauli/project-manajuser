{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\file-react\\\\project-manajuser\\\\project-dashboard\\\\src\\\\models\\\\FormCreateUser.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Config from '../config/config'; // import { FormWithConstraints, FieldFeedbacks, Async, FieldFeedback } from 'react-form-with-constraints';\n\nclass form extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fields: {},\n      errors: {}\n    };\n  }\n\n  handleValidation() {\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true; //Name\n\n    if (!fields[\"name\"]) {\n      formIsValid = false;\n      errors[\"name\"] = \"Cannot be empty\";\n    }\n\n    if (typeof fields[\"name\"] !== \"undefined\") {\n      if (!fields[\"name\"].match(/^[a-zA-Z]+$/)) {\n        formIsValid = false;\n        errors[\"name\"] = \"Only letters\";\n      }\n    } //Email\n\n\n    if (!fields[\"email\"]) {\n      formIsValid = false;\n      errors[\"email\"] = \"Cannot be empty\";\n    }\n\n    if (typeof fields[\"email\"] !== \"undefined\") {\n      let lastAtPos = fields[\"email\"].lastIndexOf('@');\n      let lastDotPos = fields[\"email\"].lastIndexOf('.');\n\n      if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"email\"].indexOf('@@') == -1 && lastDotPos > 2 && fields[\"email\"].length - lastDotPos > 2)) {\n        formIsValid = false;\n        errors[\"email\"] = \"Email is not valid\";\n      }\n    }\n\n    this.setState({\n      errors: errors\n    });\n    return formIsValid;\n  }\n\n  contactSubmit(e) {\n    e.preventDefault();\n    console.log(this.state);\n    const datapost = {\n      name: this.state.field[\"name\"],\n      email: this.state.field[\"email\"],\n      phone: this.state.field[\"phone\"],\n      password: this.state.field[\"password\"],\n      role: this.state.selectRole\n    };\n    const url = Config.baseUrl + \"/user/create\";\n    axios.post(url, datapost);\n\n    if (this.handleValidation()) {\n      alert(\"Form submitted\");\n    } else {\n      alert(\"Form has errors.\");\n    }\n  }\n\n  handleChange(field, e) {\n    let fields = this.state.fields;\n    fields[field] = e.target.value;\n    this.setState({\n      fields\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"box-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      name: \"contactform\",\n      className: \"contactform\",\n      onSubmit: this.contactSubmit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputName1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \"Nama\"), /*#__PURE__*/React.createElement(\"input\", {\n      ref: \"name\",\n      type: \"text\",\n      class: \"form-control\",\n      size: \"30\",\n      placeholder: \"Name\",\n      onChange: this.handleChange.bind(this, \"name\"),\n      value: this.state.fields[\"name\"],\n      Required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"help-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    }, this.state.errors[\"name\"])), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputHandphone1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 19\n      }\n    }, \"No. Handphone\"), /*#__PURE__*/React.createElement(\"input\", {\n      refs: \"phone\",\n      type: \"number\",\n      class: \"form-control\",\n      size: \"30\",\n      placeholder: \"Phone\",\n      onChange: this.handleChange.bind(this, \"phone\"),\n      value: this.state.fields[\"phone\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input-group-addon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 21\n      }\n    }, \"+62\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      class: \"form-control\",\n      \"data-inputmask\": \"\\\"mask\\\": \\\"(999) 999-9999\\\"\",\n      \"data-mask\": true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputEmail1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 19\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      refs: \"email\",\n      type: \"email\",\n      class: \"form-control\",\n      size: \"30\",\n      placeholder: \"Email\",\n      onChange: this.handleChange.bind(this, \"email\"),\n      value: this.state.fields[\"email\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"help-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }, this.state.errors[\"email\"])), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputPassword1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      refs: \"password\",\n      type: \"password\",\n      class: \"form-control\",\n      size: \"30\",\n      placeholder: \"Password\",\n      onChange: this.handleChange.bind(this, \"password\"),\n      value: this.state.fields[\"password\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      class: \"help-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }\n    }, this.state.errors[\"password\"])), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"inputState\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }\n    }, \"User Role\"), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"inputState\",\n      class: \"form-control\",\n      onChange: value => this.setState({\n        selectRole: value.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      selected: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 29\n      }\n    }, \"Choose...\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 29\n      }\n    }, \"Role 1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 29\n      }\n    }, \"Role 2\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, \"Role 3\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-default\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }, \"Batal\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      id: \"submit\",\n      class: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"Simpan\"))))));\n  }\n\n}\n\nexport default form;","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/file-react/project-manajuser/project-dashboard/src/models/FormCreateUser.js"],"names":["React","Component","axios","Config","form","constructor","props","state","fields","errors","handleValidation","formIsValid","match","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","setState","contactSubmit","e","preventDefault","console","log","datapost","name","field","email","phone","password","role","selectRole","url","baseUrl","post","alert","handleChange","target","value","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport Config from '../config/config';\n\n// import { FormWithConstraints, FieldFeedbacks, Async, FieldFeedback } from 'react-form-with-constraints';\n\n\n\nclass form extends Component{\nconstructor(props){\n    super(props);\n\n    this.state = {\n      fields: {},\n      errors: {}\n    }\n  }\n\n  handleValidation(){\n    let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true;\n\n    //Name\n    if(!fields[\"name\"]){\n      formIsValid = false;\n      errors[\"name\"] = \"Cannot be empty\";\n    }\n\n    if(typeof fields[\"name\"] !== \"undefined\"){\n      if(!fields[\"name\"].match(/^[a-zA-Z]+$/)){\n        formIsValid = false;\n        errors[\"name\"] = \"Only letters\";\n      }      \t\n    }\n\n    //Email\n    if(!fields[\"email\"]){\n      formIsValid = false;\n      errors[\"email\"] = \"Cannot be empty\";\n    }\n\n    if(typeof fields[\"email\"] !== \"undefined\"){\n      let lastAtPos = fields[\"email\"].lastIndexOf('@');\n      let lastDotPos = fields[\"email\"].lastIndexOf('.');\n\n      if (!(lastAtPos < lastDotPos && lastAtPos > 0 && fields[\"email\"].indexOf('@@') == -1 && lastDotPos > 2 && (fields[\"email\"].length - lastDotPos) > 2)) {\n        formIsValid = false;\n        errors[\"email\"] = \"Email is not valid\";\n      }\n    }\n\n    this.setState({errors: errors});\n    return formIsValid;\n  }\n\n  contactSubmit(e){\n    e.preventDefault();\n    console.log(this.state)\n    const datapost = {\n      name : this.state.field[\"name\"],\n      email : this.state.field[\"email\"],\n      phone : this.state.field[\"phone\"],\n      password : this.state.field[\"password\"],\n      role  : this.state.selectRole\n    }\n    const url = Config.baseUrl+\"/user/create\"\n    axios.post(url,datapost)\n    if(this.handleValidation()){\n      alert(\"Form submitted\");\n    }else{\n      alert(\"Form has errors.\")\n    }\n\n  }\n\n  handleChange(field, e){    \t\t\n    let fields = this.state.fields;\n    fields[field] = e.target.value;        \n    this.setState({fields});\n  }\n\n  render(){\n    return (\n      <div>\n        <div className=\"box-body\">      \t\n        <form name=\"contactform\" className=\"contactform\" onSubmit= {this.contactSubmit.bind(this)}>\n          \n            <fieldset>\n                <div className=\"form-group\">\n                <label htmlFor=\"exampleInputName1\">Nama</label>\n                  <input ref=\"name\" type=\"text\" class=\"form-control\" size=\"30\" placeholder=\"Name\" onChange={this.handleChange.bind(this, \"name\")} value={this.state.fields[\"name\"]} Required/>\n                  <span class=\"help-block\">{this.state.errors[\"name\"]}</span>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"exampleInputHandphone1\">No. Handphone</label>\n                  <input refs=\"phone\" type=\"number\" class=\"form-control\" size=\"30\" placeholder=\"Phone\" onChange={this.handleChange.bind(this, \"phone\")} value={this.state.fields[\"phone\"]}/>\n                </div> \n\n                <div class=\"input-group\">\n                  <div class=\"input-group-addon\">\n                    <label>+62</label>\n                  </div>\n                  <input type=\"text\" class=\"form-control\" data-inputmask='\"mask\": \"(999) 999-9999\"' data-mask/>\n                </div>\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"exampleInputEmail1\">Email</label>\n                  <input refs=\"email\" type=\"email\" class=\"form-control\" size=\"30\" placeholder=\"Email\" onChange={this.handleChange.bind(this, \"email\")} value={this.state.fields[\"email\"]}/>\n                  <span class=\"help-block\">{this.state.errors[\"email\"]}</span>\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"exampleInputPassword1\">Password</label>\n                  <input refs=\"password\" type=\"password\" class=\"form-control\" size=\"30\" placeholder=\"Password\" onChange={this.handleChange.bind(this, \"password\")} value={this.state.fields[\"password\"]}/>\n                  <span class=\"help-block\">{this.state.errors[\"password\"]}</span>\n                </div>\n                <div class=\"form-group\">\n                        <label for=\"inputState\">User Role</label>\n                        <select id=\"inputState\" class=\"form-control\" onChange={(value)=> this.setState({selectRole:value.target.value})}>\n                            <option selected>Choose...</option>\n                            <option value=\"1\">Role 1</option>\n                            <option value=\"2\">Role 2</option>\n                            <option value=\"3\">Role 3</option>\n                        </select>\n                    </div>\n            </fieldset>\n          \n          \n          <div className=\"col-md-12\">\n            <div className=\"modal-footer\">\n                        <button type=\"button\" className=\"btn btn-default\" data-dismiss=\"modal\">Batal</button>\n                        <button type=\"submit\" id=\"submit\" class=\"btn btn-primary\" >Simpan</button>\n                    </div>\n          </div>\n\n        </form>\n</div>  \n      </div>\n    )\n  }\n}\n\nexport default form;"]},"metadata":{},"sourceType":"module"}